import{f as D,r as h,a0 as y,bl as E,p as S,bm as v,bn as F,bo as T,bp as b,bq as A,aL as O,Z as C,aM as L,E as q,b2 as R,H as w,h as I,U as M,aP as k,aO as x,$ as H,a8 as N,aQ as U}from"./entry.db0d2505.js";const W=S({target:Object},"v-dialog-transition"),X=D()({name:"VDialogTransition",props:W(),setup(n,f){let{slots:e}=f;const l={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,r){var c;await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),t.style.visibility="";const{x:d,y:g,sx:s,sy:a,speed:o}=P(n.target,t),u=v(t,[{transform:`translate(${d}px, ${g}px) scale(${s}, ${a})`,opacity:0},{}],{duration:225*o,easing:T});(c=V(t))==null||c.forEach(i=>{v(i,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*o,easing:b})}),u.finished.then(()=>r())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,r){var c;await new Promise(i=>requestAnimationFrame(i));const{x:d,y:g,sx:s,sy:a,speed:o}=P(n.target,t);v(t,[{},{transform:`translate(${d}px, ${g}px) scale(${s}, ${a})`,opacity:0}],{duration:125*o,easing:A}).finished.then(()=>r()),(c=V(t))==null||c.forEach(i=>{v(i,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*o,easing:b})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>n.target?h(E,y({name:"dialog-transition"},l,{css:!1}),e):h(E,{name:"dialog-transition"},e)}});function V(n){var e;const f=(e=n.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:e.children;return f&&[...f]}function P(n,f){const e=n.getBoundingClientRect(),l=F(f),[t,r]=getComputedStyle(f).transformOrigin.split(" ").map(B=>parseFloat(B)),[d,g]=getComputedStyle(f).getPropertyValue("--v-overlay-anchor-origin").split(" ");let s=e.left+e.width/2;d==="left"||g==="left"?s-=e.width/2:(d==="right"||g==="right")&&(s+=e.width/2);let a=e.top+e.height/2;d==="top"||g==="top"?a-=e.height/2:(d==="bottom"||g==="bottom")&&(a+=e.height/2);const o=e.width/l.width,u=e.height/l.height,c=Math.max(1,o,u),i=o/c||0,m=u/c||0,p=l.width*l.height/(window.innerWidth*window.innerHeight),$=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:s-(t+l.left),y:a-(r+l.top),sx:i,sy:m,speed:$}}const Y=S({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...O({origin:"center center",scrollStrategy:"block",transition:{component:X},zIndex:2400})},"VDialog"),z=D()({name:"VDialog",props:Y(),emits:{"update:modelValue":n=>!0},setup(n,f){let{slots:e}=f;const l=C(n,"modelValue"),{scopeId:t}=L(),r=q();function d(s){var u,c;const a=s.relatedTarget,o=s.target;if(a!==o&&((u=r.value)!=null&&u.contentEl)&&((c=r.value)!=null&&c.globalTop)&&![document,r.value.contentEl].includes(o)&&!r.value.contentEl.contains(o)){const i=U(r.value.contentEl);if(!i.length)return;const m=i[0],p=i[i.length-1];a===m?p.focus():m.focus()}}R&&w(()=>l.value&&n.retainFocus,s=>{s?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),w(l,async s=>{var a,o;await N(),s?(a=r.value.contentEl)==null||a.focus({preventScroll:!0}):(o=r.value.activatorEl)==null||o.focus({preventScroll:!0})});const g=I(()=>y({"aria-haspopup":"dialog","aria-expanded":String(l.value)},n.activatorProps));return M(()=>{const[s]=x.filterProps(n);return h(x,y({ref:r,class:["v-dialog",{"v-dialog--fullscreen":n.fullscreen,"v-dialog--scrollable":n.scrollable},n.class],style:n.style},s,{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,"aria-modal":"true",activatorProps:g.value,role:"dialog"},t),{activator:e.activator,default:function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return h(H,{root:"VDialog"},{default:()=>{var c;return[(c=e.default)==null?void 0:c.call(e,...o)]}})}})}),k({},r)}});export{z as V,X as a};
